webpackJsonp([5],{F3Uf:function(e,t){},l79m:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("KY7K"),i=a("mtWM"),o=a.n(i),s={name:"person-manager",data:function(){return{breadSecond:"管理",breadname:"人员管理",options:[{value:"0",label:"所有"},{value:"1",label:"生产部"},{value:"2",label:"支援部"},{value:"3",label:"报告部"},{value:"4",label:"运营部"}],value:"",pageData:[],allData:{},total:0,data1:[],initData:[],searchName:"",dialogVisible:!1,dialogVisible1:!1,dialogVisible3:!1,form1:{name:"",Depart:"",Position:"",tel:"",userName:"",userPwd:"",access:"",registDate:""},date:"",formLabelWidth:"40%",form2:{},isDisabled:!1,form3:{}}},components:{mbread:l.a},mounted:function(){this._initGetData()},methods:{_initGetData:function(){var e=this;o.a.get("/users/getAllUsers").then(function(t){var a=t.data;if("0"===a.status){e.allData=a.result,e.total=a.result.length;for(var l=0;l<a.result.length;l++){var i={};i.userId=a.result[l].userId,i.name=a.result[l].name,i.Depart=a.result[l].Depart,i.Position=a.result[l].Position,i.access=String(a.result[l].access),i.tel=a.result[l].tel,i.userName=a.result[l].userName,i.userPwd=a.result[l].userPwd,i.registDate=a.result[l].registDate,e.data1.push(i)}e.initData=e.data1,e._initPage(1)}else alert("获取人员失败，请刷新！")})},_initPage:function(e){this.pageData=[];for(var t=10*e,a=t-10<=0?0:t-10;a<t;a++)this.data1[a]&&this.pageData.push(this.data1[a])},changePage:function(e){console.log(e),this._initPage(e)},handleSearch:function(){console.log("21"),this.data1=this.initData,this.data1=this.search(this.data1,{name:this.searchName}),this.total=this.data1.length,this._initPage(1)},search:function(e,t){var a=e,l=e,i=function(e){t[e].length>0&&(a=l.filter(function(a){return a[e].indexOf(t[e])>-1}),l=a)};for(var o in t)i(o);return a},handleClick:function(e){this.form2=e,this.form3=e,this.dialogVisible1=!0},addPerson:function(){this.dialogVisible=!0},Save:function(){console.log("保存成功!"),this.dialogVisible=!1},Edit:function(){this.dialogVisible1=!1;var e=this;setTimeout(function(){e.dialogVisible3=!0},300)},saveEdit:function(){this.$notify({title:"通知",message:"修改成功"}),this.dialogVisible3=!1},change:function(e){"0"===e?(this.data1=this.initData,this.total=this.data1.length,this._initPage(1)):"1"===e?(this.data1=this.filePageData("生产部"),this._initPage(1)):"2"===e?(this.data1=this.filePageData("支援部"),this._initPage(1)):"3"===e&&(this.data1=this.filePageData("报告部"),this._initPage(1))},filePageData:function(e){var t=this.initData.filter(function(t){return t.Depart===e});return this.total=t.length,t}},computed:{}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("mbread",{attrs:{isOpen:!0,breadSecond:e.breadSecond,breadname:e.breadname}}),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-col",{staticStyle:{margin:"5px auto"},attrs:{span:14,xs:24,lg:8}},[a("span",[e._v("查看人员:")]),e._v(" "),a("el-select",{attrs:{placeholder:"所有"},on:{change:e.change},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4,xs:24,lg:8}},[a("el-button",{staticStyle:{margin:"5px auto"},attrs:{type:"success"},on:{click:e.addPerson}},[e._v("增加员工")])],1),e._v(" "),a("el-col",{staticStyle:{margin:"5px auto"},attrs:{span:6,xs:24,lg:8}},[a("el-input",{staticClass:"search",attrs:{"suffix-icon":"el-icon-search",placeholder:"按姓名查找"},on:{change:e.handleSearch},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1)],1),e._v(" "),a("el-table",{attrs:{data:e.pageData,border:"",width:"95%"}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Depart",label:"部门"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Position",label:"职位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"电话"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,xs:6}},[e._v(" .\n      "),a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:e.total,"current-page":1},on:{"current-change":e.changePage}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"增加员工",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.form1}},[a("el-form-item",{attrs:{label:"姓名",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{"auto-complete":"off"},model:{value:e.form1.name,callback:function(t){e.$set(e.form1,"name",t)},expression:"form1.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录账号",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{"auto-complete":"off"},model:{value:e.form1.userName,callback:function(t){e.$set(e.form1,"userName",t)},expression:"form1.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录密码",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{"auto-complete":"off"},model:{value:e.form1.userPwd,callback:function(t){e.$set(e.form1,"userPwd",t)},expression:"form1.userPwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户权限",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择权限"},model:{value:e.form1.access,callback:function(t){e.$set(e.form1,"access",t)},expression:"form1.access"}},[a("el-option",{attrs:{label:"管理员",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"部长",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"副部长",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"员工",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所在部门",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择部门"},model:{value:e.form1.Depart,callback:function(t){e.$set(e.form1,"Depart",t)},expression:"form1.Depart"}},[a("el-option",{attrs:{label:"总部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"支援部",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"报告部",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"生产部",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择职位"},model:{value:e.form1.Position,callback:function(t){e.$set(e.form1,"Position",t)},expression:"form1.Position"}},[a("el-option",{attrs:{label:"普工",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"部长",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"思密达",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{maxlength:"11"},model:{value:e.form1.tel,callback:function(t){e.$set(e.form1,"tel",t)},expression:"form1.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"时间",size:"mini","label-width":e.formLabelWidth}},[a("el-date-picker",{staticClass:"input1",attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.Save}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"查看信息",visible:e.dialogVisible1,width:"60%"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[a("el-form",{model:{value:e.form2,callback:function(t){e.form2=t},expression:"form2"}},[a("el-form-item",{attrs:{label:"姓名",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{disabled:"","auto-complete":"off"},model:{value:e.form2.name,callback:function(t){e.$set(e.form2,"name",t)},expression:"form2.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录账号",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{disabled:"","auto-complete":"off"},model:{value:e.form2.userName,callback:function(t){e.$set(e.form2,"userName",t)},expression:"form2.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录密码",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{disabled:"","auto-complete":"off"},model:{value:e.form2.userPwd,callback:function(t){e.$set(e.form2,"userPwd",t)},expression:"form2.userPwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户权限",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择权限"},model:{value:e.form2.access,callback:function(t){e.$set(e.form2,"access",t)},expression:"form2.access"}},[a("el-option",{attrs:{label:"管理员",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"部长",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"副部长",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"员工",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所在部门",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择部门"},model:{value:e.form2.Depart,callback:function(t){e.$set(e.form2,"Depart",t)},expression:"form2.Depart"}},[a("el-option",{attrs:{label:"总部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"支援部",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"报告部",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"生产部",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择职位"},model:{value:e.form2.Position,callback:function(t){e.$set(e.form2,"Position",t)},expression:"form2.Position"}},[a("el-option",{attrs:{label:"普工",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"部长",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"思密达",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{maxlength:"11",disabled:""},model:{value:e.form2.tel,callback:function(t){e.$set(e.form2,"tel",t)},expression:"form2.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册日期",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{disabled:""},model:{value:e.form2.registDate,callback:function(t){e.$set(e.form2,"registDate",t)},expression:"form2.registDate"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible1=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.Edit}},[e._v("编辑")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改信息",visible:e.dialogVisible3,width:"60%"},on:{"update:visible":function(t){e.dialogVisible3=t}}},[a("el-form",{model:{value:e.form3,callback:function(t){e.form3=t},expression:"form3"}},[a("el-form-item",{attrs:{label:"姓名",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{"auto-complete":"off"},model:{value:e.form3.name,callback:function(t){e.$set(e.form3,"name",t)},expression:"form3.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录账号",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{"auto-complete":"off"},model:{value:e.form3.userName,callback:function(t){e.$set(e.form3,"userName",t)},expression:"form3.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录密码",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{"auto-complete":"off"},model:{value:e.form3.userPwd,callback:function(t){e.$set(e.form3,"userPwd",t)},expression:"form3.userPwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户权限",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择权限"},model:{value:e.form3.access,callback:function(t){e.$set(e.form3,"access",t)},expression:"form3.access"}},[a("el-option",{attrs:{label:"管理员",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"部长",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"副部长",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"员工",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所在部门",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择部门"},model:{value:e.form3.Depart,callback:function(t){e.$set(e.form3,"Depart",t)},expression:"form3.Depart"}},[a("el-option",{attrs:{label:"总部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"支援部",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"报告部",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"生产部",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",size:"mini","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择职位"},model:{value:e.form3.Position,callback:function(t){e.$set(e.form3,"Position",t)},expression:"form3.Position"}},[a("el-option",{attrs:{label:"普工",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"部长",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"思密达",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",attrs:{maxlength:"11"},model:{value:e.form3.tel,callback:function(t){e.$set(e.form3,"tel",t)},expression:"form3.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册日期",size:"mini","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"input1",model:{value:e.form3.registDate,callback:function(t){e.$set(e.form3,"registDate",t)},expression:"form3.registDate"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible3=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("修改")])],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(s,r,!1,function(e){a("F3Uf")},"data-v-a297c766",null);t.default=n.exports}});
//# sourceMappingURL=5.c34cf9ec7298b17681d4.js.map