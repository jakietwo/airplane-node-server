webpackJsonp([3],{cPIv:function(e,t){},gn5M:function(e,t){},pqxe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{},name:"slider1",data:function(){return{showSlider:!1,isCollapse:!1}},props:["isCollapse1"],watch:{isCollapse1:function(e,t){e?(this.isCollapse=!0,this.changeTitle("56px"),this.$emit("changeWid")):(this.isCollapse=!1,this.changeTitle("200px"),this.$emit("restoreWid"))}},mounted:function(){var e=this,t=document.documentElement.clientWidth;t<=860?(this.isCollapse=!0,this.showSlider=!1,this.changeTitle("56px"),this.$emit("changeWid"),t<=480&&(document.getElementById("title").style.display="none")):(this.isCollapse=!1,this.changeTitle("200px"));window.onresize=function(){document.documentElement.clientWidth<=860?(e.closeCollapse(),e.$emit("changeWid")):(e.openCollapse(),e.$emit("restoreWid"))}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},toggleClick:function(){this.isCollapse=!this.isCollapse,this.isCollapse?(this.changeTitle("56px"),this.$emit("changeWid")):(this.changeTitle("200px"),this.$emit("restoreWid"))},closeCollapse:function(){this.isCollapse=!0,this.changeTitle("56px");document.getElementById("slideMenu")},openCollapse:function(){this.isCollapse=!1,this.changeTitle("200px"),this.$emit("restoreWid")},changeTitle:function(e){document.getElementById("title").style.width=e}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slideMenu",staticStyle:{width:"203px"},attrs:{id:"slideMenu"}},[n("span",{attrs:{id:"title"}},[n("el-button",{style:{transform:"rotateZ("+(this.isCollapse?"0":"-90")+"deg)"},attrs:{id:"btn",type:"text"},on:{click:e.toggleClick}},[n("el-icon",{staticClass:"el-icon-more"})],1)],1),e._v(" "),n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"rgb(67,72,88)",router:!0,"text-color":"#fff","active-text-color":"rgb(250,200,57)",collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("管理")])]),e._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/home_main/personManager"}},[e._v("人员管理")]),e._v(" "),n("el-menu-item",{attrs:{index:"/home_main/departManager"}},[e._v("部门管理")])],1)],2),e._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-document"}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("报告")])]),e._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/home_main/reportList"}},[e._v("查看报告")]),e._v(" "),n("el-menu-item",{attrs:{index:"/home_main/articlePublish"}},[e._v("文章发布")]),e._v(" "),n("el-menu-item",{attrs:{index:"/home_main/reportCheck"}},[e._v("报告详情")])],1)],2),e._v(" "),n("el-menu-item",{attrs:{index:"4"}},[n("i",{staticClass:"el-icon-setting"}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("错误")])])],1)],1)},staticRenderFns:[]};var o=n("VU/8")(s,i,!1,function(e){n("gn5M")},"data-v-b2fa3e70",null).exports,l=n("lbHh"),a=n.n(l),r=n("mtWM"),c=n.n(r),d={name:"home_main",components:{slider:o},data:function(){return{userId:"",userData:{},openedList:"",collapse:!1,showSlider:!0,openSubmenu:!1}},mounted:function(){var e=this;this.restoreWidth(),document.documentElement.clientWidth>480&&(this.openSubmenu=!0),document.documentElement.clientWidth<840&&(this.changeWidth(),e.collapse=!0),window.onresize=function(){document.documentElement.clientWidth>840&&(this.openSubmenu=!0,e.collapse=!1,e.restoreWidth()),document.documentElement.clientWidth<640&&(e.collapse=!0,e.changeWidth())},this.$route.params.userId&&(this.userId=this.$route.params.userId,localStorage.setItem("userId",this.userId)),this._initUserData()},methods:{toggleClick:function(){this.collapse=!this.collapse,console.log(this.collapse)},changeWidth:function(){document.getElementById("elaside").style.width="64px"},restoreWidth:function(){document.getElementById("elaside").style.width="201px"},_initUserData:function(){var e=this,t=localStorage.getItem("userId");console.log(t),c.a.post("/users/again",{userId:t}).then(function(t){var n=t.data;"0"===n.status?(localStorage.setItem("userId",n.result.userId),e.userData=n.result):(alert("登录过期了!请重新登录"),e.$router.push("/"))})},getPath:function(e,t,n){document.documentElement.clientWidth<=480&&(this.openSubmenu=!1),this.openedList=e.name,this.$store.commit("setOpenList",e.name)},handleCommand:function(e){"b"===e?this.logout():this.personInfo()},personInfo:function(){this.$router.push({name:"personInfo",params:{userData:this.userData}})},logout:function(){a.a.remove("userId"),a.a.remove("data"),a.a.remove("user"),a.a.remove("access"),a.a.remove("reportId"),localStorage.clear(),this.$router.push("/")},handleSubmenu:function(){this.openSubmenu=!0},closeModal:function(){this.openSubmenu=!1}},watch:{$route:"getPath"}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home_main"},[n("el-container",[n("el-header",[n("el-row",{staticClass:"block-col-2",attrs:{type:"flex"}},[n("el-col",[n("span",{staticClass:"title"},[e._v("管理后台")]),e._v(" "),n("el-button",{staticClass:"open",on:{click:e.handleSubmenu}},[e._v("展开")])],1),e._v(" "),n("el-col",[n("el-dropdown",{staticClass:"dropdown",on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[e._v("\n  "+e._s(e.userData.name)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"a"}},[e._v("个人信息")]),e._v(" "),n("el-dropdown-item",{attrs:{command:"b"}},[e._v("退出登录")])],1)],1)],1)],1)],1),e._v(" "),n("el-container",[n("transition",{attrs:{name:"slider1"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.openSubmenu,expression:"openSubmenu"}],staticClass:"modal",on:{click:e.closeModal}})]),e._v(" "),n("transition",{attrs:{name:"slider"}},[n("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.openSubmenu,expression:"openSubmenu"}],attrs:{id:"elaside"}},[n("slider",{attrs:{isCollapse1:e.collapse},on:{changeWid:e.changeWidth,restoreWid:e.restoreWidth}})],1)],1),e._v(" "),n("el-main",[n("el-row",[n("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var m=n("VU/8")(d,u,!1,function(e){n("cPIv")},"data-v-5c61920c",null);t.default=m.exports}});
//# sourceMappingURL=3.d9d983870f0b664d68bc.js.map