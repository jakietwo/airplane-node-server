webpackJsonp([7],{AkVi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("KY7K"),n={name:"ElPager",props:{currentPage:Number,pageCount:Number,pagerCount:Number,disabled:Boolean},watch:{showPrevMore:function(e){e||(this.quickprevIconClass="el-icon-more")},showNextMore:function(e){e||(this.quicknextIconClass="el-icon-more")}},methods:{onPagerClick:function(e){var t=e.target;if("UL"!==t.tagName&&!this.disabled){var a=Number(e.target.textContent),r=this.pageCount,n=this.currentPage,s=this.pagerCount-2;-1!==t.className.indexOf("more")&&(-1!==t.className.indexOf("quickprev")?a=n-s:-1!==t.className.indexOf("quicknext")&&(a=n+s)),isNaN(a)||(a<1&&(a=1),a>r&&(a=r)),a!==n&&this.$emit("change",a)}},onMouseenter:function(e){this.disabled||("left"===e?this.quickprevIconClass="el-icon-d-arrow-left":this.quicknextIconClass="el-icon-d-arrow-right")}},computed:{pagers:function(){var e=this.pagerCount,t=(e-1)/2,a=Number(this.currentPage),r=Number(this.pageCount),n=!1,s=!1;r>e&&(a>e-t&&(n=!0),a<r-t&&(s=!0));var o=[];if(n&&!s)for(var l=r-(e-2);l<r;l++)o.push(l);else if(!n&&s)for(var i=2;i<e;i++)o.push(i);else if(n&&s)for(var c=Math.floor(e/2)-1,u=a-c;u<=a+c;u++)o.push(u);else for(var d=2;d<r;d++)o.push(d);return this.showPrevMore=n,this.showNextMore=s,o}},data:function(){return{current:null,showPrevMore:!1,showNextMore:!1,quicknextIconClass:"el-icon-more",quickprevIconClass:"el-icon-more"}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"el-pager",on:{click:e.onPagerClick}},[e.pageCount>0?a("li",{staticClass:"number",class:{active:1===e.currentPage,disabled:e.disabled}},[e._v("1")]):e._e(),e._v(" "),e.showPrevMore?a("li",{staticClass:"el-icon more btn-quickprev",class:[e.quickprevIconClass,{disabled:e.disabled}],on:{mouseenter:function(t){e.onMouseenter("left")},mouseleave:function(t){e.quickprevIconClass="el-icon-more"}}}):e._e(),e._v(" "),e._l(e.pagers,function(t){return a("li",{key:t,staticClass:"number",class:{active:e.currentPage===t,disabled:e.disabled}},[e._v(e._s(t))])}),e._v(" "),e.showNextMore?a("li",{staticClass:"el-icon more btn-quicknext",class:[e.quicknextIconClass,{disabled:e.disabled}],on:{mouseenter:function(t){e.onMouseenter("right")},mouseleave:function(t){e.quicknextIconClass="el-icon-more"}}}):e._e(),e._v(" "),e.pageCount>1?a("li",{staticClass:"number",class:{active:e.currentPage===e.pageCount,disabled:e.disabled}},[e._v(e._s(e.pageCount))]):e._e()],2)},staticRenderFns:[]},o=a("VU/8")(n,s,!1,null,null,null).exports,l=a("mtWM"),i=a.n(l),c={name:"report-list",data:function(){return{breadSecond:"报告",breadname:"查看报告",value1:"",options:[{value:"0",label:"现场报告"},{value:"1",label:"时事报告"},{value:"2",label:"AOG报告"},{value:"3",label:"飞行报告"},{value:"4",label:" 所有"}],reportData:[],pageData:[],total:0}},components:{ElPager:o,mbread:r.a},mounted:function(){this._initReportData()},methods:{_initReportData:function(){var e=this;i.a.get("/reports/getAllreport").then(function(t){var a=t.data;"0"===a.status?(e.total=a.result.length,a.result.forEach(function(t){var a=[];a.title=t.title,a.desc=t.desc,a.status=t.status,a.category=t.category,a.datetime=t.datetime,a.reportId=t.reportId,e.reportData.push(a)}),e._initPage(1)):e.$notify({title:"出错了狗子",dangerouslyUseHTMLString:!0,message:'<span style="color: red;">获取报告数据失败! 检查网络或者重试</span>',duration:3e3})})},changePage:function(e){this._initPage(e)},_initPage:function(e){this.pageData=[];for(var t=10*e,a=t-10<=0?0:t-10;a<t;a++)this.reportData[a]&&this.pageData.push(this.reportData[a])},changeCategory:function(e){if("4"===e)return this.pageData=this.reportData,this.total=this.pageData.length,this.pageData;this.pageData=this.reportData.filter(function(t){return t.status===e}),this.total=this.pageData.length},handleClick:function(e){localStorage.setItem("reportId",e.reportId),this.$router.push({name:"reportCheck",params:{reportId:e.reportId}})},clickTitle:function(){console.log("1111")}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("mbread",{attrs:{isOpen:!0,breadSecond:e.breadSecond,breadname:e.breadname}}),e._v(" "),a("el-select",{staticClass:"select",attrs:{placeholder:"请选择"},on:{change:e.changeCategory},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-table",{attrs:{data:e.pageData,border:"",width:"95%",stripe:!0,"default-sort":{prop:"datetime",order:"descending"}}},[a("el-table-column",{attrs:{prop:"title",label:"标题",width:"400"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category",label:"类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.status?"success":"danger","disable-transitions":""}},[e._v(e._s("1"==t.row.status?"已通过":"未通过"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"datetime",label:"时间",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",circle:"",size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",circle:""}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,xs:10}},[e._v(" .\n      "),a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:e.total,"current-page":1},on:{"current-change":e.changePage}})],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(c,u,!1,function(e){a("xMbx")},"data-v-34ab8030",null);t.default=d.exports},xMbx:function(e,t){}});
//# sourceMappingURL=7.187a811ebd454ad9df3e.js.map